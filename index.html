<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, My Sister!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            background-color: #fde2e4; /* Soft pink background */
        }
        .font-dancing {
            font-family: 'Dancing Script', cursive;
        }
        .hero {
            background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://i.postimg.cc/rwc84sMY/cake.jpg');
            background-size: cover;
            background-position: center;
            height: 100vh;
        }
        main {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://i.postimg.cc/wBVSbnJp/bbd.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .text-shadow {
            text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
        }
        .text-shadow-main {
            text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
        }

        /* --- Bounce-in Animation for Main Heading --- */
        @keyframes bounce-in {
            0% {
                opacity: 0;
                transform: scale(0.3) translateY(-100vh);
            }
            50% {
                opacity: 1;
                transform: scale(1.05) translateY(30px);
            }
            70% {
                transform: scale(0.95) translateY(-10px);
            }
            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }
        .animate-bounce-in {
            animation: bounce-in 1.2s ease-out forwards;
        }

        /* --- Pop-in Animation for other elements --- */
        @keyframes pop-in {
            0% { opacity: 0; transform: scale(0.5); }
            70% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }
        .animate-pop {
            animation: pop-in 0.8s ease-out forwards;
        }
        
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .heading-pop {
            opacity: 0;
        }
        .fade-in-section.visible .heading-pop {
            animation: pop-in 0.8s ease-out 0.3s forwards;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f9a8d4;
            border-radius: 50%;
            opacity: 0.7;
            animation: fall 5s linear infinite;
        }
        .confetti:nth-child(2n) { background-color: #fcd34d; }
        .confetti:nth-child(3n) { background-color: #81e6d9; }
        .confetti:nth-child(4n) { width: 15px; height: 5px; border-radius: 0; }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); }
            100% { transform: translateY(110vh) rotate(720deg); }
        }
        .heart-beat {
            animation: heartBeat 1.5s infinite ease-in-out;
        }
        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* --- Styles for Flip to See Gallery --- */
        .gallery-item-container {
            perspective: 1000px;
            cursor: pointer;
            position: relative;
        }
        .flipper {
            position: relative;
            width: 100%;
            padding-top: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .gallery-item-container.revealed .flipper {
            transform: rotateY(180deg);
        }
        .front, .back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            border-radius: 0.5rem;
            overflow: hidden;
            transition: box-shadow 0.4s ease-in-out;
        }
        .back {
            transform: rotateY(180deg);
            background-color: #f3f4f6;
        }
        .back img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .gallery-item-container:not(.revealed):hover .front.bg-pink-400 {
            box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #f472b6, 0 0 20px #f472b6;
        }
        .gallery-item-container:not(.revealed):hover .front.bg-teal-400 {
            box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #2dd4bf, 0 0 20px #2dd4bf;
        }
        .gallery-item-container:not(.revealed):hover .front.bg-yellow-400 {
            box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #facc15, 0 0 20px #facc15;
        }

        .gallery-item-container.revealed .back.back-pink {
            box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #f472b6, 0 0 20px #f472b6;
        }
        .gallery-item-container.revealed .back.back-teal {
            box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #2dd4bf, 0 0 20px #2dd4bf;
        }
        .gallery-item-container.revealed .back.back-yellow {
            box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #facc15, 0 0 20px #facc15;
        }

        .spring {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 0;
            background-color: #a8a29e;
            transition: height 0.3s ease-out 0.8s;
        }
        .gallery-item-container.revealed .spring {
            height: 0.75rem;
        }
        .note-card {
            position: absolute;
            top: 100%;
            left: 5%;
            right: 5%;
            margin-top: 0.75rem;
            padding: 0.75rem;
            border-radius: 0.375rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            font-size: 1.1rem;
            opacity: 0;
            pointer-events: none;
        }
        .gallery-item-container.revealed .note-card {
            opacity: 1;
            animation: spring-drop 0.8s ease-out 0.8s forwards;
        }
        @keyframes spring-drop {
            0% { transform: translateY(-20px); opacity: 0; }
            50% { transform: translateY(5px); opacity: 1; }
            70% { transform: translateY(-3px); }
            90% { transform: translateY(2px); }
            100% { transform: translateY(0); opacity: 1; }
        }

        /* --- Styles for Gift Box --- */
        #gift {
            overflow: hidden;
        }
        .gift-box-wrapper {
            position: relative;
            transition: height 0.5s ease-out;
            height: 200px; /* Initial height for just the box */
        }
        .gift-box-wrapper.opened {
            height: 600px; /* Expanded height */
        }
        .gift-box-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 150px;
            cursor: pointer;
            z-index: 10;
            transition: top 0.5s ease-out;
            top: 0; /* Starts at the top */
        }
        .gift-box-wrapper.opened .gift-box-container {
            top: 450px; /* Moves to the bottom */
        }
        .gift-box-container .gift-box {
            transition: transform 0.3s ease-in-out;
        }
        .gift-box-container:hover .gift-box {
            transform: scale(1.05);
        }
        .gift-box-container.opened .gift-lid {
            animation: open-lid 0.5s forwards;
        }
        @keyframes open-lid {
            to { transform: translateY(-30px) rotate(-15deg); opacity: 0; }
        }
        
        .final-wish-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            opacity: 0;
            pointer-events: none;
        }
        .gift-box-wrapper.opened .final-wish-container {
            opacity: 1;
            animation: fade-in-up 0.8s ease-out 0.5s forwards;
        }
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .horizontal-ribbon-container {
            position: absolute;
            top: 250px;
            left: -15%;
            right: -15%;
            height: 200px;
            opacity: 0;
            pointer-events: none;
        }
        .gift-box-wrapper.opened .horizontal-ribbon-container {
            opacity: 1;
            transition: opacity 0.5s 0.8s;
        }
        .horizontal-ribbon {
            height: 40px;
            background: #f9a8d4;
            width: 0%;
            margin: 0 auto;
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .gift-box-wrapper.opened .horizontal-ribbon {
            animation: stretch-ribbon 1s ease-out 0.8s forwards;
        }
        @keyframes stretch-ribbon {
            to { width: 100%; }
        }

        .photo-strip {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            gap: 3rem;
            align-items: center;
            z-index: 15;
        }
        .photo-item {
            position: relative;
            opacity: 0;
        }
        .gift-box-wrapper.opened .photo-item {
            animation: pop-photo 0.8s ease-out forwards;
        }
        .photo-item img {
            width: 150px;
            height: 150px;
            border: 5px solid white;
            border-radius: 0.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            object-fit: cover;
        }
        .compliment-card {
            position: absolute;
            bottom: -85px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 8px 12px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            font-family: 'Dancing Script', cursive;
            color: #c026d3; /* fuchsia-600 */
            font-size: 1.1rem;
            white-space: nowrap;
            opacity: 0;
        }
        .gift-box-wrapper.opened .compliment-card {
            animation: fade-in-card 0.5s ease-out forwards;
        }

        /* Stagger animations */
        .gift-box-wrapper.opened .pi-1 { animation-delay: 1.5s; }
        .gift-box-wrapper.opened .pi-2 { animation-delay: 1.7s; }
        .gift-box-wrapper.opened .pi-3 { animation-delay: 1.9s; }
        .gift-box-wrapper.opened .pi-4 { animation-delay: 2.1s; }
        
        .gift-box-wrapper.opened .pi-1 .compliment-card { animation-delay: 1.9s; }
        .gift-box-wrapper.opened .pi-2 .compliment-card { animation-delay: 2.1s; }
        .gift-box-wrapper.opened .pi-3 .compliment-card { animation-delay: 2.3s; }
        .gift-box-wrapper.opened .pi-4 .compliment-card { animation-delay: 2.5s; }

        @keyframes pop-photo {
            0% { transform: translateY(50px) scale(0.5); opacity: 0; }
            70% { transform: translateY(-10px) scale(1.1); opacity: 1; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        @keyframes fade-in-card {
            to { opacity: 1; }
        }

        .balloons {
            position: absolute;
            top: 50%;
            width: 100px;
            opacity: 0;
            transform: translateY(-50%) scale(0);
            z-index: 20;
        }
        .balloons.left { left: 0; }
        .balloons.right { right: 0; }
        @keyframes pop-balloon {
            0% { transform: translateY(-50%) scale(0); opacity: 0; }
            70% { transform: translateY(-50%) scale(1.1); opacity: 1; }
            100% { transform: translateY(-50%) scale(1); opacity: 1; }
        }
        @keyframes bob-gently {
            0%, 100% { transform: translateY(-55%); }
            50% { transform: translateY(-45%); }
        }

        /* --- Music Player Styles --- */
        #music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(244, 114, 182, 0.8); /* pink-400 with opacity */
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 1000;
            transition: background-color 0.3s;
        }
        #music-control:hover {
            background-color: #f472b6; /* pink-400 */
        }

        /* --- FINAL RESPONSIVE STYLES --- */
        @media (max-width: 640px) {
            /* 1. Gallery Fix: Increase vertical gap between items */
            #gallery .grid {
                row-gap: 18rem;
            }
            .note-card {
                font-size: 1rem;
            }

            /* 2. Definitive Gift Box Fix: Use Flexbox to stack items */
            .gift-box-wrapper.opened {
                height: auto; /* Let content determine the height */
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 1.5rem; /* Space between the stacked items */
                padding: 1rem 0;
                transition: none; /* Disable height transition for this stable layout */
            }

            /* Override absolute positioning for the children so they stack */
            .gift-box-wrapper.opened .final-wish-container,
            .gift-box-wrapper.opened .horizontal-ribbon-container,
            .gift-box-wrapper.opened .gift-box-container {
                position: relative;
                top: auto;
                left: auto;
                right: auto;
                transform: none;
            }

            /* Set display order: message -> photos -> box */
            .gift-box-wrapper.opened .final-wish-container { order: 1; }
            .gift-box-wrapper.opened .horizontal-ribbon-container { order: 2; height: auto; width: 100%; }
            .gift-box-wrapper.opened .gift-box-container { order: 3; margin-top: 2rem; }
            
            /* The photo grid container */
            .photo-strip {
                position: relative;
                height: auto;
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }

            /* Critical Fix: Make each photo item a column for the image and its card */
            .photo-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 0.5rem;
                padding-bottom: 3rem; /* Add padding to the bottom of each photo item for the card */
            }
            .photo-item img {
                width: 130px;
                height: 130px;
            }

            /* The compliment card is no longer absolutely positioned */
            .compliment-card {
                position: static; /* This is the key change */
                transform: none;
                margin-top: 0.25rem;
            }
            
            /* Hide the decorative ribbon on mobile to reduce clutter */
            .gift-box-wrapper.opened .horizontal-ribbon {
                display: none;
            }

            /* 3. Footer Fix: Add space to prevent overlap with music button */
            footer {
                padding-bottom: 6rem;
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="confetti-container"></div>

    <audio id="bdy" loop>
        <source src="bdy.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <button id="music-control">
        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
    </button>


    <header class="hero flex flex-col items-center justify-center text-center p-6 relative">
        <h1 class="font-dancing text-6xl md:text-8xl text-white text-shadow animate-bounce-in">Happy Birthday!</h1>
        <p class="text-2xl md:text-4xl mt-4 text-white text-shadow animate-pop" style="animation-delay: 0.8s;">To my amazing sister!</p>
        <div class="mt-8 animate-pop" style="animation-delay: 1.1s;">
            <svg class="w-12 h-12 text-white heart-beat" style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg>
        </div>
    </header>

    <main>
        
        <section id="message" class="container mx-auto px-6 text-center fade-in-section py-16 md:py-24">
            <h2 class="heading-pop text-4xl md:text-5xl font-dancing text-white text-shadow-main mb-8">A little note for you...</h2>
            <p class="max-w-3xl mx-auto text-lg md:text-xl leading-relaxed text-white text-shadow-main">
                Happy birthday, my dear sister! It's incredible how quickly time flies, and here we are, celebrating another year of your wonderful life.Every memory we share is a treasure, and I'm so grateful for the bond we have. May your day be filled with all the joy, laughter, and love you deserve. Here's to many more years of amazing moments together!
            </section>

        <section id="gift" class="container mx-auto px-6 py-24 text-center fade-in-section">
            <h2 class="heading-pop text-4xl md:text-5xl font-dancing text-white text-shadow-main mb-8">A Special Surprise Just For You!</h2>
            <p class="max-w-2xl mx-auto text-lg text-white text-shadow-main mb-12">Click the gift box below!</p>
            
            <div id="gift-box-wrapper" class="gift-box-wrapper">
                
                <div class="final-wish-container">
                    <img src="https://i.postimg.cc/d3HCHQQy/b41379e97a0387993f5c8a5afaec3d97.jpg" alt="Hug" class="mx-auto h-48 w-48 object-cover rounded-lg shadow-lg">
                    <h3 class="text-3xl font-dancing text-white text-shadow-main mt-4">A hug from your brother üíóand thodi si aapki tarifh üòò</h3>
                </div>

                <div class="horizontal-ribbon-container">
                    <svg class="balloons left" viewBox="0 0 113 142" xmlns="http://www.w3.org/2000/svg"><path d="M51.5 106.5C69.479 106.5 84 92.25 84 74.625C84 57 69.479 42.75 51.5 42.75C33.521 42.75 19 57 19 74.625C19 92.25 33.521 106.5 51.5 106.5Z" fill="#F472B6" fill-opacity="0.7"/><path d="M56.5 70.5C74.479 70.5 89 56.25 89 38.625C89 21 74.479 6.75 56.5 6.75C38.521 6.75 24 21 24 38.625C24 56.25 38.521 70.5 56.5 70.5Z" fill="#FCD34D" fill-opacity="0.7"/><path d="M29.5 64.5C47.479 64.5 62 50.25 62 32.625C62 15 47.479 0.75 29.5 0.75C11.521 0.75 -3 15 -3 32.625C-3 50.25 11.521 64.5 29.5 64.5Z" fill="#81E6D9" fill-opacity="0.7"/></svg>
                    <svg class="balloons right" viewBox="0 0 113 142" xmlns="http://www.w3.org/2000/svg"><path d="M51.5 106.5C69.479 106.5 84 92.25 84 74.625C84 57 69.479 42.75 51.5 42.75C33.521 42.75 19 57 19 74.625C19 92.25 33.521 106.5 51.5 106.5Z" fill="#F472B6" fill-opacity="0.7"/><path d="M56.5 70.5C74.479 70.5 89 56.25 89 38.625C89 21 74.479 6.75 56.5 6.75C38.521 6.75 24 21 24 38.625C24 56.25 38.521 70.5 56.5 70.5Z" fill="#FCD34D" fill-opacity="0.7"/><path d="M29.5 64.5C47.479 64.5 62 50.25 62 32.625C62 15 47.479 0.75 29.5 0.75C11.521 0.75 -3 15 -3 32.625C-3 50.25 11.521 64.5 29.5 64.5Z" fill="#81E6D9" fill-opacity="0.7"/></svg>
                    <div class="horizontal-ribbon"></div>
                    <div class="photo-strip">
                        <div class="photo-item pi-1">
                            <img src="https://i.postimg.cc/pTQqrdBh/Whats-App-Image-2025-08-06-at-11-06-54-cdccf935.jpg" alt="Memory 1">
                            <div class="compliment-card">So much fun with you!üòÑ</div>
                        </div>
                        <div class="photo-item pi-2">
                            <img src="https://i.postimg.cc/T1RQDXkk/Whats-App-Image-2025-08-06-at-11-15-06-1a8f6810.jpg" alt="Memory 2">
                            <div class="compliment-card">Always shining bright! ‚ú®</div>
                        </div>
                        <div class="photo-item pi-3">
                            <img src="https://i.postimg.cc/JhkTwxDQ/Whats-App-Image-2025-08-06-at-11-15-06-30cc68c4.jpg" alt="Memory 3">
                            <div class="compliment-card">Kind and Sweetü•∞ </div>
                        </div>
                        <div class="photo-item pi-4">
                            <img src="https://i.postimg.cc/k4PT7SWP/Whats-App-Image-2025-08-06-at-11-15-06-7380c70c.jpg" alt="Memory 4">
                            <div class="compliment-card">Forever my favorite! ü•∞</div>
                        </div>
                    </div>
                </div>

                <div id="gift-box-container" class="gift-box-container">
                    <svg class="gift-box w-full h-full" viewBox="0 0 100 100">
                        <g class="gift-base">
                            <path d="M10 40 H 90 V 90 H 10 Z" fill="#f472b6"/>
                            <path d="M45 40 H 55 V 90 H 45 Z" fill="#ec4899"/>
                        </g>
                        <g class="gift-lid">
                            <path d="M5 30 H 95 V 40 H 5 Z" fill="#f9a8d4"/>
                            <path d="M45 10 H 55 V 30 H 45 Z" fill="#f472b6"/>
                            <path d="M45 10 C 45 0, 25 0, 25 10 S 45 20, 45 10" fill="#f472b6"/>
                            <path d="M55 10 C 55 0, 75 0, 75 10 S 55 20, 55 10" fill="#f472b6"/>
                        </g>
                    </svg>
                </div>
            </div>
        </section>

        <section id="wish" class="container mx-auto px-6 text-center fade-in-section py-16 md:py-24">
             <h2 class="heading-pop text-4xl md:text-5xl font-dancing text-white text-shadow-main mb-8">Cheers to Youüçª!</h2>
            <p class="max-w-3xl mx-auto text-lg md:text-xl leading-relaxed text-white text-shadow-main">
                May your day be as bright and beautiful as you are. Here's to another year of adventures, inside jokes, and being the best of friends. Love you always!
            </p>
            <p class="mt-8 text-2xl font-bold text-white text-shadow-main">With all my love‚ù§Ô∏è,<br>Your brother</p>
        </section>

    </main>

    <footer class="text-center py-8 bg-pink-200">
        <p class="text-pink-800">Made with ‚ù§Ô∏è for the best sister in the world.</p>
    </footer>

    <script>
        // --- Confetti Animation ---
        const confettiContainer = document.getElementById('confetti-container');
        const confettiCount = 100;
        for (let i = 0; i < confettiCount; i++) {
            const confetti = document.createElement('div');
            confetti.classList.add('confetti');
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.animationDuration = Math.random() * 3 + 4 + 's';
            confetti.style.animationDelay = Math.random() * 5 + 's';
            confettiContainer.appendChild(confetti);
        }

        // --- Scroll Animations for Sections ---
        const sections = document.querySelectorAll('.fade-in-section');
        const scrollObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        
        sections.forEach(section => {
            scrollObserver.observe(section);
        });

        // --- Script for Gallery Flip ---
        const galleryItems = document.querySelectorAll('.gallery-item-container');
        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
                item.classList.add('revealed');
            }, { once: true }); 
        });

        // --- Script for Gift Box ---
        const giftBoxWrapper = document.getElementById('gift-box-wrapper');
        const giftBoxContainer = document.getElementById('gift-box-container');
        giftBoxContainer.addEventListener('click', () => {
            giftBoxWrapper.classList.add('opened');
            giftBoxContainer.classList.add('opened');
        }, { once: true });
        
        // --- Music Player Script ---
        const audio = document.getElementById('bdy');
        const musicControl = document.getElementById('music-control');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        let hasInteracted = false;
        let isPlaying = false;

        function togglePlay() {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                pauseIcon.classList.add('hidden');
                playIcon.classList.remove('hidden');
            } else {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        isPlaying = true;
                        playIcon.classList.add('hidden');
                        pauseIcon.classList.remove('hidden');
                    })
                    .catch(error => {
                        console.error("Audio play failed:", error);
                        isPlaying = false;
                    });
                }
            }
        }

        musicControl.addEventListener('click', (e) => {
            e.stopPropagation();
            hasInteracted = true;
            togglePlay();
        });

        // Autoplay on first user interaction
        document.body.addEventListener('click', () => {
            if (!hasInteracted) {
                hasInteracted = true;
                togglePlay();
            }
        }, { once: true });
    </script>
</body>
</html>
